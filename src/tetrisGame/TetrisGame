//Fix Rotate Bug
//Fix Pause Moveable Bug 
//Fix Pause Toggle Bug

package tetrisGame;

import javax.swing.JOptionPane;

public class TetrisGame {

    private static GameForm gf;
    private static LeaderboardForm lf;
    private static StartupForm sf;
    private static AudioPlayer audio =new AudioPlayer();
    
    public static void start(){
        gf.setVisible(true);
        gf.startGame();
    }
    
    public static void showLeaderboard(){
        lf.setVisible(true);
    }
    
    public static void showStartup(){
        sf.setVisible(true);
    }
    
    public static void removeLeaderboard(){
        lf.setVisible(false);
    }
    
    public static void gameOver(int score){
        playGameover();
        String playerName=JOptionPane.showInputDialog("GameOver!\nPlease Enter your Name: ");
        if(playerName.isEmpty()||playerName.isBlank()) playerName="Anonymous";
        
        gf.setVisible(false);
        lf.addPlayer(playerName,score);
    }
    
    public static void playClearLines(){
        audio.playClearLines();
    }
    
    public static void playGameover(){
        audio.playGameover();
    }

    public static void main(String[] args) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                gf =new GameForm();
                lf= new LeaderboardForm();
                sf= new StartupForm();
                
                sf.setVisible(true);
            }
        }); 
    }
}
